#https://docs.conan.io/2/reference/config_files/settings.html

[settings]
os=Android
os.api_level=35
arch=armv8
compiler=clang
compiler.version=20
compiler.libcxx=c++_shared
compiler.cppstd=20
build_type=Release

[options]
*:shared=False
*:fPIC=True

[buildenv]
CONAN_BUILD_ENV_CHECK=true
ANDROID_NDK_VERSION=29.0.13599879

[conf]
tools.build:jobs=8
tools.cmake.cmaketoolchain:generator=Ninja
tools.cmake.cmakedeps:new=will_break_next

# ignored when set tools.android:ndk_path
# tools.build:compiler_executables = {"c": "clang", "cpp": "clang++"}

tools.build:cxxflags=+["-DNO_WORDEXP"]
tools.build:cflags=+["-DNO_WORDEXP"]

tools.android:ndk_path=$ENV{DEVCRAFT_WORKSPACE}/android/android_sdk/ndk/29.0.13599879
tools.cmake.cmaketoolchain:extra_variables={"ANDROID_NDK_ROOT": "$ENV{DEVCRAFT_WORKSPACE}/android/android_sdk/ndk/29.0.13599879", "ANDROID_PLATFORM": "android-35", "ANDROID_NATIVE_API_LEVEL": "35", "ANDROID_STL": "c++_shared"}

tools.build:cxxflags=+["-DNO_WORDEXP -DANDROID -fdata-sections -ffunction-sections -funwind-tables -fstack-protector-strong -no-canonical-prefixes -D_FORTIFY_SOURCE=2 -Wformat -Werror=format-security"]

#tools.build:cflags=+["-DNO_WORDEXP"]

# For Debug
#tools.build:cxxflags=+["-v"]
#tools.build:cxxflags=+["-Wno-format-security"]

